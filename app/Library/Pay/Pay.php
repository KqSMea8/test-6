<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($spc21a73, $spd58066, $spf49dcd, $spa1a573, $spda7912) { $this->driver = static::getDriver($spc21a73->id, $spc21a73->driver); $sp42f333 = json_decode($spc21a73->config, true); $sp42f333['payway'] = $spc21a73->way; $this->driver->goPay($sp42f333, $spd58066, $spf49dcd, $spa1a573, $spda7912); return true; } public static function getDriver($sp3cc850, $spa2a84a) { $sp95602d = 'App\\Library\\Pay\\' . ucfirst($spa2a84a) . '\\Api'; if (!class_exists($sp95602d)) { throw new \Exception('支付驱动未找到'); } return new $sp95602d($sp3cc850); } }