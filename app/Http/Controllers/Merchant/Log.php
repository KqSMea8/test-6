<?php
namespace App\Http\Controllers\Merchant; use App\Library\Response; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; class Log extends Controller { function get(Request $sp2f63b0) { $sp203bcb = $sp2f63b0->post('user_id'); $spe0ea94 = $sp2f63b0->post('action', \App\Log::ACTION_LOGIN); $spd92986 = \App\Log::where('action', $spe0ea94); $spd92986->where('user_id', Auth::id()); $sp744a2c = $sp2f63b0->post('start_at'); if (strlen($sp744a2c)) { $spd92986->where('created_at', '>=', $sp744a2c . ' 00:00:00'); } $sp6e7f6f = $sp2f63b0->post('end_at'); if (strlen($sp6e7f6f)) { $spd92986->where('created_at', '<=', $sp6e7f6f . ' 23:59:59'); } $sp5ea5e7 = $sp2f63b0->post('current_page', 1); $sp67decc = $sp2f63b0->post('per_page', 20); $sp176180 = $spd92986->orderBy('created_at', 'DESC')->paginate($sp67decc, array('*'), 'page', $sp5ea5e7); return Response::success($sp176180); } }