<?php
 require __DIR__.'/shared.php'; $parameters = array( 'tcp://127.0.0.1:6379?database=15&alias=master', 'tcp://127.0.0.1:6380?database=15&alias=slave', ); $options = array('replication' => true); $client = new Predis\Client($parameters, $options); $exists = $client->exists('foo') ? 'yes' : 'no'; $current = $client->getConnection()->getCurrent()->getParameters(); echo "Does 'foo' exist on {$current->alias}? $exists.", PHP_EOL; $client->set('foo', 'bar'); $current = $client->getConnection()->getCurrent()->getParameters(); echo "Now 'foo' has been set to 'bar' on {$current->alias}!", PHP_EOL; $bar = $client->get('foo'); $current = $client->getConnection()->getCurrent()->getParameters(); echo "We fetched 'foo' from {$current->alias} and its value is '$bar'.", PHP_EOL; 